<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:views="clr-namespace:CdsHelper.Main.UI.Views">

    <Style TargetType="{x:Type views:AutoPlayContent}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type views:AutoPlayContent}">
                    <Grid Margin="20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- 헤더 + 시작/중지 -->
                        <DockPanel Grid.Row="0" Margin="0,0,0,15">
                            <TextBlock Text="자동플레이" FontSize="22" FontWeight="Bold" VerticalAlignment="Center"/>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                <Button Content="시작"
                                        Command="{Binding StartCommand}"
                                        Padding="20,6" MinWidth="80" Margin="0,0,5,0"/>
                                <Button Content="중지"
                                        Command="{Binding StopCommand}"
                                        Padding="20,6" MinWidth="80"/>
                            </StackPanel>
                        </DockPanel>

                        <!-- 게임 연결 상태 -->
                        <GroupBox Grid.Row="1" Header="게임 상태" Padding="10" Margin="0,0,0,10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="40"/>
                                    <ColumnDefinition Width="100"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Column="0" Text="게임 실행:" FontWeight="SemiBold" VerticalAlignment="Center"/>
                                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                                    <Ellipse Width="10" Height="10" Margin="0,0,8,0">
                                        <Ellipse.Style>
                                            <Style TargetType="Ellipse">
                                                <Setter Property="Fill" Value="#FF4444"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding IsGameRunning}" Value="True">
                                                        <Setter Property="Fill" Value="#44BB44"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Ellipse.Style>
                                    </Ellipse>
                                    <TextBlock Text="{Binding GameRunningDisplay}" VerticalAlignment="Center"/>
                                </StackPanel>

                                <TextBlock Grid.Column="3" Text="현재 장면:" FontWeight="SemiBold" VerticalAlignment="Center"/>
                                <StackPanel Grid.Column="4" Orientation="Horizontal" VerticalAlignment="Center">
                                    <TextBlock Text="{Binding GameSceneIcon}" FontSize="16" Margin="0,0,6,0" VerticalAlignment="Center"/>
                                    <TextBlock Text="{Binding GameSceneDisplay}" VerticalAlignment="Center" FontWeight="SemiBold"/>
                                </StackPanel>
                            </Grid>
                        </GroupBox>

                        <!-- 템플릿 캡처 -->
                        <GroupBox Grid.Row="2" Header="템플릿 캡처 (현재 게임 화면을 장면 템플릿으로 저장)" Padding="10" Margin="0,0,0,10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="200"/>
                                    <ColumnDefinition Width="10"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Column="0" Text="장면:" VerticalAlignment="Center"/>
                                <ComboBox Grid.Column="1"
                                          ItemsSource="{Binding CaptureScenes}"
                                          SelectedItem="{Binding SelectedCaptureScene}"
                                          DisplayMemberPath="DisplayName"
                                          Padding="5,3"/>
                                <Button Grid.Column="3"
                                        Content="캡처 저장"
                                        Command="{Binding CaptureTemplateCommand}"
                                        Padding="15,5" MinWidth="90"/>
                            </Grid>
                        </GroupBox>

                        <!-- 목적지 선택 -->
                        <GroupBox Grid.Row="3" Header="자동 항해" Padding="10" Margin="0,0,0,10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="250"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="8"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="8"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="8"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="8"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="목적지:" VerticalAlignment="Center"/>
                                <ComboBox Grid.Row="0" Grid.Column="1"
                                          ItemsSource="{Binding Cities}"
                                          SelectedItem="{Binding SelectedCity}"
                                          DisplayMemberPath="Name"
                                          Padding="5,3"/>

                                <TextBlock Grid.Row="2" Grid.Column="0" Text="상태:" FontWeight="SemiBold" VerticalAlignment="Center"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding StatusText}" VerticalAlignment="Center"/>

                                <TextBlock Grid.Row="4" Grid.Column="0" Text="목적지:" VerticalAlignment="Center"/>
                                <TextBlock Grid.Row="4" Grid.Column="1" Text="{Binding DestinationDisplay}" VerticalAlignment="Center"/>

                                <TextBlock Grid.Row="6" Grid.Column="0" Text="현재 좌표:" VerticalAlignment="Center"/>
                                <StackPanel Grid.Row="6" Grid.Column="1" Orientation="Horizontal">
                                    <TextBlock Text="{Binding CurrentLatDisplay}" Margin="0,0,10,0"/>
                                    <TextBlock Text=",  "/>
                                    <TextBlock Text="{Binding CurrentLonDisplay}" Margin="10,0,0,0"/>
                                </StackPanel>

                                <TextBlock Grid.Row="8" Grid.Column="0" Text="방위각:" VerticalAlignment="Center"/>
                                <TextBlock Grid.Row="8" Grid.Column="1" Text="{Binding BearingDisplay}" VerticalAlignment="Center"/>
                            </Grid>
                        </GroupBox>

                        <!-- 로그 -->
                        <GroupBox Grid.Row="5" Header="로그" Padding="5">
                            <ListBox ItemsSource="{Binding LogMessages}"
                                     FontFamily="Consolas"
                                     FontSize="12"
                                     BorderThickness="0"
                                     ScrollViewer.HorizontalScrollBarVisibility="Auto"/>
                        </GroupBox>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
